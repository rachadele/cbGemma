
conda.enabled = true
cb_build_dir = "/scratch/cellbrowser-builds"
params.study_names = null 
workDir = "/scratch/cellbrowser-builds/work"
params.cb_build_dir = "/scratch/cellbrowser-builds"
params.cb_outdir = "/space/gemmaData/cellBrowser"
params.cbscanpy_config = "$projectDir/meta/scanpy.conf"
params.remove_cols =  [
    "processing date",
    "sequence read length",
    "sequence read count",
    "sequence paired reads",
    "number of cells",
    "number of design elements",
    "number of cells by design elements"
] // columns to remove from cell-level metadata

process {
  cache = 'standard'  // Options: 'standard' (default), 'deep', 'lenient', or 'false'
  executor = 'local'
  clusterOptions = '-C thrd64 --cpus-per-task=10'
  memory = '64 GB'
}

// Override for a specific process
withName:getFullMatrix {
  memory = '16 GB'   // Hard limit for this process
}


 executor {
   queueSize = 90 
 }

nextflow {
  clean {
    afterRun = true  // Default is false; set to true to clean up automatically
  }
}

profiles {
  conda {
    conda.enabled = true
  }

}

// params.GEMMA_USERNAME = System.getenv('GEMMA_USERNAME')
// params.GEMMA_PASSWORD = System.getenv('GEMMA_PASSWORD')
// params.gene_mapping = "/space/grp/rschwartz/rschwartz/get_gemma_data.nf/meta/gemma_genes.tsv"
params.use_staging = false